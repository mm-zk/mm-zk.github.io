import{a as j,b as G}from"./amTdRpMH.js";import{_ as q,a as z,b as J}from"./DIbjKs0n.js";import{_ as K}from"./5efk99B-.js";import{m as Q,n as k,v as X,_ as Z}from"./yhpzh7P7.js";import{D as tt,_ as et}from"./C7SQOngx.js";import{g as ot,$ as nt,W as st,H as o,D,w as u,o as e,b as n,d as m,t as d,Y as t,c as s,x as r,a as p,A as at,F as rt,a0 as ct}from"./Dk_43wzT.js";import{C as B,R as it,_ as ut}from"./tUD8y_-v.js";import{B as lt}from"./BnUShGWR.js";import"./CaypI_mi.js";import"./CXwrXqVy.js";import"./B9eUGrDS.js";import"./DSwa0AwS.js";import"./CdkeNSEz.js";import"./BmYYtP1Z.js";import"./BQkc-AXV.js";const _t={key:0,class:"m-4"},mt={key:1},dt={key:2},pt=p("br",null,null,-1),ht={key:0},gt={key:0},ft={key:1},bt={key:1},vt={key:0,class:"m-4"},wt=p("br",null,null,-1),yt=p("br",null,null,-1),Vt=ot({__name:"[githublogin]",setup(kt){const R=nt(),{account:h}=st(Q()),c=R.params.githublogin,g=k({address:B.DevNFT,abi:tt}),T=o(0),C=o(""),f=o(!1),A=o(BigInt(0)),b=o(""),$=X(),v=o(!1),E=k({address:B.ReviewToken,abi:it}),N=k({address:B.Bounty,abi:lt}),w=o(0),y=o([]),x=o(0);$.getBlock().then(i=>{console.log("setting bt: ",i.timestamp),x.value=Number(i.timestamp)});const l=o(null);(async()=>{const i=`https://api.github.com/users/${c}`;l.value=await fetch(i).then(a=>a.json()).then(a=>a.message?null:a)})();const F=async()=>{w.value=Number(await N.read.getUserBountiesCount([c])),y.value=await N.read.getUserBounties([c,BigInt(w.value)]),console.log(y.value)};return(async()=>{if(await g.read.exists([c])){C.value="exists";const a=await g.read.githubToToken([c]);A.value=a;const _=await g.read.ownerOf([a]);b.value=_,v.value=_==h.value.address,T.value=Number(await E.read.balanceOf([_]))}else C.value="not set",f.value=!0;F()})(),(i,a)=>{const _=j,I=q,U=K,O=Z,S=et,H=J,P=z,V=ct,M=G,W=ut;return e(),D(W,null,{default:u(()=>[n(M,{grow:""},{default:u(()=>[n(_,{title:"PR Bounty List"}),n(I,{class:"py-0 px-4 overflow-x-auto"},{default:u(()=>[m(" Browsing #"+d(t(c))+" github ",1)]),_:1}),t(l)?(e(),s("div",_t,[n(U,{ghUser:t(l)},null,8,["ghUser"])])):r("",!0),t(f)?(e(),s("div",mt," ADDRESS NOT Mapped - please click Add button above to connect link your wallet. ")):r("",!0),t(f)?r("",!0):(e(),s("div",dt,[m(" Current owner of this github is: "+d(t(b))+" ",1),pt,t(h).isConnected?(e(),s("div",ht,[t(v)?(e(),s("div",gt,"YOU ARE THE OWNER.")):r("",!0),t(v)?r("",!0):(e(),s("div",ft," You are NOT the owner - maybe you connected a wrong wallet? "))])):r("",!0),t(h).isConnected?r("",!0):(e(),s("div",bt," You didn't connect the wallet, but you can still browse. ")),n(S,null,{default:u(()=>[t(l)?(e(),s("div",vt,[n(U,{ghUser:t(l),showShowButton:"false"},null,8,["ghUser"])])):r("",!0),m(" "+d(t(b))+" ",1),wt,n(O,{class:"w-12 h-12 text-green-600",name:"ph:coin-vertical-duotone",dynamic:""}),m(" RVW: "+d(t(T)),1)]),_:1})])),p("div",null,[m(" Bounties for this user "+d(t(w))+" ",1),yt,n(V,{class:"mt-4"},{default:u(()=>[n(P,null,{default:u(()=>[(e(!0),s(rt,null,at(t(y),(Y,L)=>(e(),D(H,{key:L,bounty:Y,currentBlockTimestamp:t(x)},null,8,["bounty","currentBlockTimestamp"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1})}}});export{Vt as default};
