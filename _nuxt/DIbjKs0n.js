var Ue=Object.defineProperty;var Ce=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var b=(e,t,n)=>Ce(e,typeof t!="symbol"?t+"":t,n);import{g as V,h as ae,i as U,o as h,c as w,a as S,s as O,r as k,Y as l,q as G,H as v,a8 as Ne,j as $,a9 as M,l as Be,a6 as Fe,b as x,w as R,D as we,x as _,d as E,t as T,p as Me,e as Le,_ as Ge,W as Ve,K as He}from"./Dk_43wzT.js";import{D as We,F as ze,G as L,H as Xe,J as Je,K as Ye,L as Ke,_ as Te,m as Ze,n as X,p as J,q as Y,a as Qe}from"./yhpzh7P7.js";import{_ as et}from"./amTdRpMH.js";import{_ as tt}from"./CaypI_mi.js";import{_ as nt}from"./DSwa0AwS.js";import{_ as rt,D as at}from"./C7SQOngx.js";import{B as ce}from"./BnUShGWR.js";import{C as q,R as it}from"./tUD8y_-v.js";const xn=V({inheritAttrs:!1,__name:"DashboardToolbar",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t={wrapper:"min-h-[49px] flex-shrink-0 flex items-center border-b border-gray-200 dark:border-gray-800 px-4 py-2 gap-x-4",container:"flex items-center justify-between flex-1 gap-x-1.5",left:"flex items-stretch gap-1.5",right:"flex items-stretch gap-1.5"},n=e,{ui:r,attrs:a}=ae("dashboard.toolbar",U(n,"ui"),t,U(n,"class"),!0);return(i,s)=>(h(),w("div",G({class:l(r).wrapper},l(a)),[S("div",{class:k(l(r).container)},[O(i.$slots,"default",{},()=>[S("div",{class:k(l(r).left)},[O(i.$slots,"left")],2),S("div",{class:k(l(r).right)},[O(i.$slots,"right")],2)])],2)],16))}}),st=We(ze);function ot(e,t={}){const{x:n,y:r}=st(t),a=v(e??(window==null?void 0:window.document.body)),i=v(0),s=v(0);return L&&Xe([a,n,r],()=>{const o=Je(a);if(!o)return;const{left:c,top:y}=o.getBoundingClientRect(),g=n.value-(c+L.scrollX),u=r.value-(y+L.scrollY);Math.abs(g)>1500||Math.abs(u)>1500||L.screen.width<=800||(i.value=g,s.value=u)},{immediate:!0,throttle:50}),{x:n,y:r,elementX:i,elementY:s}}const Q=e=>e.map(t=>{if(!t.children||typeof t.children=="string")return t.children||"";if(Array.isArray(t.children))return Q(t.children);if(t.children.default)return Q(t.children.default())}).join(""),ut=e=>(Me("data-v-cc0b2707"),e=e(),Le(),e),lt=ut(()=>S("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)),ct=V({inheritAttrs:!1,__name:"LandingCard",props:{...Ye,title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},color:{type:String,default:"primary"},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){Ne(p=>({ffc28df2:l(n),"35aaa965":l(r)}));const t=e,n=$(()=>{var p;return t.color==="primary"?"rgb(var(--color-primary-DEFAULT))":((p=M[t.color])==null?void 0:p["500"])||M[t.color]||t.color}),r=$(()=>{var p;return t.color==="primary"?"rgb(var(--color-primary-DEFAULT))":((p=M[t.color])==null?void 0:p["400"])||M[t.color]||t.color}),a=$(()=>({wrapper:"relative group isolate rounded-xl background-gradient ring-1 ring-gray-200 dark:ring-gray-800 before:hidden before:lg:block before:absolute before:-inset-[2px] before:h-[calc(100%+4px)] before:w-[calc(100%+4px)] before:z-[-1] before:rounded-[13px] flex-1 flex flex-col shadow",to:"hover:ring-primary-500 dark:hover:ring-primary-400 transition-shadow duration-200",base:"flex-1 flex flex-col overflow-hidden",container:"",body:{base:Be("gap-x-8 gap-y-4 rounded-xl flex-1",t.orientation==="vertical"&&"flex flex-col",!!s.default&&t.orientation==="horizontal"&&"grid lg:grid-cols-2 lg:items-center")},background:"bg-white dark:bg-gray-900 hover:bg-opacity-90 dark:hover:bg-opacity-90 transition-[background-opacity]",ring:"",rounded:"rounded-xl",shadow:"",icon:{wrapper:"mb-2 pointer-events-none",base:"w-8 h-8 flex-shrink-0 text-gray-900 dark:text-white"},title:"text-gray-900 dark:text-white text-base font-bold truncate",description:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"})),i=v(),s=Fe(),{elementX:o,elementY:c}=ot(i),{ui:y,attrs:g}=ae("landing.card",U(t,"ui"),a,U(t,"class"),!0),u=$(()=>Ke(t)),f=$(()=>(t.title||s.title&&Q(s.title())||"Card link").trim());return(p,oe)=>{const F=nt,W=Te,j=rt;return h(),w("div",G({ref_key:"el",ref:i,style:{"--x":`${l(o)}px`,"--y":`${l(c)}px`},class:[l(y).wrapper,p.to&&l(y).to]},l(g)),[x(j,{ui:l(y)},{default:R(()=>[S("div",{class:k(l(y).container)},[p.to?(h(),we(F,G({key:0,"aria-label":l(f)},l(u),{class:"focus:outline-none",tabindex:"-1"}),{default:R(()=>[lt]),_:1},16,["aria-label"])):_("",!0),e.icon||p.$slots.icon?(h(),w("div",{key:1,class:k(l(y).icon.wrapper)},[O(p.$slots,"icon",{},()=>[x(W,{name:e.icon,class:k(l(y).icon.base)},null,8,["name","class"])],!0)],2)):_("",!0),e.title||p.$slots.title?(h(),w("p",{key:2,class:k(l(y).title)},[O(p.$slots,"title",{},()=>[E(T(e.title),1)],!0)],2)):_("",!0),e.description||p.$slots.description?(h(),w("div",{key:3,class:k(l(y).description)},[O(p.$slots,"description",{},()=>[E(T(e.description),1)],!0)],2)):_("",!0),O(p.$slots,"container",{},void 0,!0)],2),p.$slots.default?O(p.$slots,"default",{key:0},void 0,!0):_("",!0)]),_:3},8,["ui"])],16)}}}),pt=Ge(ct,[["__scopeId","data-v-cc0b2707"]]),dt=e=>e.event=="reviewed"?{event:"reviewed",login:e.user.login,timestamp:new Date(e.submitted_at),state:e.state}:e.event=="commented"||e.event=="committed"||e.event=="review_dismissed"||e.event=="renamed"?null:e.event=="review_requested"?e.requested_reviewer==null?null:{event:"review_requested",login:e.requested_reviewer.login,timestamp:new Date(e.created_at),state:""}:null,yt=async(e,t,n)=>{try{const r=t.split("/"),{data:a}=await e.request("GET /repos/{owner}/{repo}/issues/{pull_number}/timeline",{owner:r[0],repo:r[1],pull_number:n,mediaType:{previews:["mockingbird"]}});return ft(a)}catch(r){console.error("Error fetching PR details:",r)}},ft=e=>{const t=e.map(r=>dt(r)).filter(r=>r!==null),n=new Map;return t.forEach(r=>{if(r.event=="review_requested")if(n.has(r.login)){const a=n.get(r.login);a.waitingForReviewer||n.set(r.login,{waitingForReviewer:!0,timestamp:r.timestamp,reviewerDuration:a.reviewerDuration,authorDuration:a.authorDuration+(r.timestamp.getTime()-a.timestamp.getTime()),approved:a.approved})}else n.set(r.login,{waitingForReviewer:!0,timestamp:r.timestamp,reviewerDuration:0,authorDuration:0,approved:!1});else if(r.event=="reviewed")if(n.has(r.login)){const a=n.get(r.login);a.waitingForReviewer&&n.set(r.login,{waitingForReviewer:!1,timestamp:r.timestamp,reviewerDuration:a.reviewerDuration+(r.timestamp.getTime()-a.timestamp.getTime()),authorDuration:a.authorDuration,approved:a.approved||r.state=="approved"})}else n.set(r.login,{waitingForReviewer:!1,timestamp:r.timestamp,reviewerDuration:0,authorDuration:0,approved:r.state=="approved"})}),n},mt=async(e,t,n)=>{const r=t.split("/"),{data:a}=await e.request("GET /repos/{owner}/{repo}/pulls/{pull_number}",{owner:r[0],repo:r[1],pull_number:n}),i=await yt(e,t,n);return{author:a.user.login,isMergedToMain:(a.base.ref=="main"||a.base.ref=="master")&&a.merged_at!=null,reviewStatus:i}},gt=e=>{const t=[...e.reviewStatus.entries()].sort((r,a)=>r[0].localeCompare(a[0])).filter(r=>r[1].approved).map(r=>({reviewer:r[0],reviewerDuration:BigInt(r[1].reviewerDuration),authorDuration:BigInt(r[1].authorDuration)}));return{author:e.author,isMergedToMain:e.isMergedToMain,approvals:t}},bt=async(e,t,n)=>{const r=await mt(e,t,n);return gt(r)};function H(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function ie(e,t,n,r){if(typeof n!="function")throw new Error("method for before hook must be a function");return r||(r={}),Array.isArray(t)?t.reverse().reduce((a,i)=>ie.bind(null,e,i,a,r),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((a,i)=>i.hook.bind(null,a,r),n)():n(r))}function ht(e,t,n,r){const a=r;e.registry[n]||(e.registry[n]=[]),t==="before"&&(r=(i,s)=>Promise.resolve().then(a.bind(null,s)).then(i.bind(null,s))),t==="after"&&(r=(i,s)=>{let o;return Promise.resolve().then(i.bind(null,s)).then(c=>(o=c,a(o,s))).then(()=>o)}),t==="error"&&(r=(i,s)=>Promise.resolve().then(i.bind(null,s)).catch(o=>a(o,s))),e.registry[n].push({hook:r,orig:a})}function vt(e,t,n){if(!e.registry[t])return;const r=e.registry[t].map(a=>a.orig).indexOf(n);r!==-1&&e.registry[t].splice(r,1)}const pe=Function.bind,de=pe.bind(pe);function _e(e,t,n){const r=de(vt,null).apply(null,n?[t,n]:[t]);e.api={remove:r},e.remove=r,["before","error","after","wrap"].forEach(a=>{const i=n?[t,a,n]:[t,a];e[a]=e.api[a]=de(ht,null).apply(null,i)})}function wt(){const e=Symbol("Singular"),t={registry:{}},n=ie.bind(null,t,e);return _e(n,t,e),n}function Tt(){const e={registry:{}},t=ie.bind(null,e);return _e(t,e),t}const _t={Singular:wt,Collection:Tt};var xt="0.0.0-development",Rt=`octokit-endpoint.js/${xt} ${H()}`,kt={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Rt},mediaType:{format:""}};function At(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function Et(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function xe(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{Et(t[r])?r in e?n[r]=xe(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function ye(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function ee(e,t,n){var a;if(typeof t=="string"){let[i,s]=t.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},t);n.headers=At(n.headers),ye(n),ye(n.headers);const r=xe(e||{},n);return n.url==="/graphql"&&(e&&((a=e.mediaType.previews)!=null&&a.length)&&(r.mediaType.previews=e.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=(r.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),r}function St(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(a=>a==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(t[a])}`).join("&")}var Ot=/\{[^}]+\}/g;function jt(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function $t(e){const t=e.match(Ot);return t?t.map(jt).reduce((n,r)=>n.concat(r),[]):[]}function fe(e,t){const n={__proto__:null};for(const r of Object.keys(e))t.indexOf(r)===-1&&(n[r]=e[r]);return n}function Re(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function I(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function N(e,t,n){return t=e==="+"||e==="#"?Re(t):I(t),n?I(n)+"="+t:t}function P(e){return e!=null}function K(e){return e===";"||e==="&"||e==="?"}function Dt(e,t,n,r){var a=e[n],i=[];if(P(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),r&&r!=="*"&&(a=a.substring(0,parseInt(r,10))),i.push(N(t,a,K(t)?n:""));else if(r==="*")Array.isArray(a)?a.filter(P).forEach(function(s){i.push(N(t,s,K(t)?n:""))}):Object.keys(a).forEach(function(s){P(a[s])&&i.push(N(t,a[s],s))});else{const s=[];Array.isArray(a)?a.filter(P).forEach(function(o){s.push(N(t,o))}):Object.keys(a).forEach(function(o){P(a[o])&&(s.push(I(o)),s.push(N(t,a[o].toString())))}),K(t)?i.push(I(n)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?P(a)&&i.push(I(n)):a===""&&(t==="&"||t==="?")?i.push(I(n)+"="):a===""&&i.push("");return i}function qt(e){return{expand:Pt.bind(null,e)}}function Pt(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,a,i){if(a){let o="";const c=[];if(n.indexOf(a.charAt(0))!==-1&&(o=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(y){var g=/([^:\*]*)(?::(\d+)|(\*))?/.exec(y);c.push(Dt(t,o,g[1],g[2]||g[3]))}),o&&o!=="+"){var s=",";return o==="?"?s="&":o!=="#"&&(s=o),(c.length!==0?o:"")+c.join(s)}else return c.join(",")}else return Re(i)}),e==="/"?e:e.replace(/\/$/,"")}function ke(e){var g;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),a,i=fe(e,["method","baseUrl","url","headers","request","mediaType"]);const s=$t(n);n=qt(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const o=Object.keys(e).filter(u=>s.includes(u)).concat("baseUrl"),c=fe(i,o);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(g=e.mediaType.previews)!=null&&g.length)){const u=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=u.concat(e.mediaType.previews).map(f=>{const p=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${p}`}).join(",")}return["GET","HEAD"].includes(t)?n=St(n,c):"data"in c?a=c.data:Object.keys(c).length&&(a=c),!r["content-type"]&&typeof a<"u"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof a>"u"&&(a=""),Object.assign({method:t,url:n,headers:r},typeof a<"u"?{body:a}:null,e.request?{request:e.request}:null)}function It(e,t,n){return ke(ee(e,t,n))}function Ae(e,t){const n=ee(e,t),r=It.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:Ae.bind(null,n),merge:ee.bind(null,n),parse:ke})}var Ut=Ae(null,kt);class B extends Error{constructor(n,r,a){super(n);b(this,"name");b(this,"status");b(this,"request");b(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,"response"in a&&(this.response=a.response);const i=Object.assign({},a.request);a.request.headers.authorization&&(i.headers=Object.assign({},a.request.headers,{authorization:a.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var Ct="0.0.0-development";function Nt(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function Bt(e){return e.arrayBuffer()}function me(e){var o,c,y,g;const t=e.request&&e.request.log?e.request.log:console,n=((o=e.request)==null?void 0:o.parseSuccessResponseBody)!==!1;(Nt(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},a,i,{fetch:s}=globalThis;if((c=e.request)!=null&&c.fetch&&(s=e.request.fetch),!s)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return s(e.url,{method:e.method,body:e.body,redirect:(y=e.request)==null?void 0:y.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([u,f])=>[u,String(f)])),signal:(g=e.request)==null?void 0:g.signal,...e.body&&{duplex:"half"}}).then(async u=>{i=u.url,a=u.status;for(const f of u.headers)r[f[0]]=f[1];if("deprecation"in r){const f=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),p=f&&f.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${p?`. See ${p}`:""}`)}if(!(a===204||a===205)){if(e.method==="HEAD"){if(a<400)return;throw new B(u.statusText,a,{response:{url:i,status:a,headers:r,data:void 0},request:e})}if(a===304)throw new B("Not modified",a,{response:{url:i,status:a,headers:r,data:await Z(u)},request:e});if(a>=400){const f=await Z(u);throw new B(Ft(f),a,{response:{url:i,status:a,headers:r,data:f},request:e})}return n?await Z(u):u.body}}).then(u=>({status:a,url:i,headers:r,data:u})).catch(u=>{if(u instanceof B)throw u;if(u.name==="AbortError")throw u;let f=u.message;throw u.name==="TypeError"&&"cause"in u&&(u.cause instanceof Error?f=u.cause.message:typeof u.cause=="string"&&(f=u.cause)),new B(f,500,{request:e})})}async function Z(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():Bt(e)}function Ft(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function te(e,t){const n=e.defaults(t);return Object.assign(function(a,i){const s=n.merge(a,i);if(!s.request||!s.request.hook)return me(n.parse(s));const o=(c,y)=>me(n.parse(n.merge(c,y)));return Object.assign(o,{endpoint:n,defaults:te.bind(null,n)}),s.request.hook(o,s)},{endpoint:n,defaults:te.bind(null,n)})}var ne=te(Ut,{headers:{"user-agent":`octokit-request.js/${Ct} ${H()}`}}),Mt="0.0.0-development";function Lt(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var Gt=class extends Error{constructor(t,n,r){super(Lt(r));b(this,"name","GraphqlResponseError");b(this,"errors");b(this,"data");this.request=t,this.headers=n,this.response=r,this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Vt=["method","baseUrl","url","headers","request","query","mediaType"],Ht=["query","method","url"],ge=/\/api\/v3\/?$/;function Wt(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(Ht.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,a=Object.keys(r).reduce((s,o)=>Vt.includes(o)?(s[o]=r[o],s):(s.variables||(s.variables={}),s.variables[o]=r[o],s),{}),i=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return ge.test(i)&&(a.url=i.replace(ge,"/api/graphql")),e(a).then(s=>{if(s.data.errors){const o={};for(const c of Object.keys(s.headers))o[c]=s.headers[c];throw new Gt(a,o,s.data)}return s.data.data})}function se(e,t){const n=e.defaults(t);return Object.assign((a,i)=>Wt(n,a,i),{defaults:se.bind(null,n),endpoint:n.endpoint})}se(ne,{headers:{"user-agent":`octokit-graphql.js/${Mt} ${H()}`},method:"POST",url:"/graphql"});function zt(e){return se(e,{method:"POST",url:"/graphql"})}var Xt=/^v1\./,Jt=/^ghs_/,Yt=/^ghu_/;async function Kt(e){const t=e.split(/\./).length===3,n=Xt.test(e)||Jt.test(e),r=Yt.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}function Zt(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Qt(e,t,n,r){const a=t.endpoint.merge(n,r);return a.headers.authorization=Zt(e),t(a)}var en=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Kt.bind(null,t),{hook:Qt.bind(null,t)})};const Ee="6.1.2",be=()=>{},tn=console.warn.bind(console),nn=console.error.bind(console),he=`octokit-core.js/${Ee} ${H()}`;class re{constructor(t={}){b(this,"request");b(this,"graphql");b(this,"log");b(this,"hook");b(this,"auth");const n=new _t.Collection,r={baseUrl:ne.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=t.userAgent?`${t.userAgent} ${he}`:he,t.baseUrl&&(r.baseUrl=t.baseUrl),t.previews&&(r.mediaType.previews=t.previews),t.timeZone&&(r.headers["time-zone"]=t.timeZone),this.request=ne.defaults(r),this.graphql=zt(this.request).defaults(r),this.log=Object.assign({debug:be,info:be,warn:tn,error:nn},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...s}=t,o=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",o.hook),this.auth=o}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=en(t.auth);n.wrap("request",i.hook),this.auth=i}const a=this.constructor;for(let i=0;i<a.plugins.length;++i)Object.assign(this,a.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...r){const a=r[0]||{};if(typeof t=="function"){super(t(a));return}super(Object.assign({},t,a,a.userAgent&&t.userAgent?{userAgent:`${a.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var a;const n=this.plugins;return a=class extends this{},b(a,"plugins",n.concat(t.filter(i=>!n.includes(i)))),a}}b(re,"VERSION",Ee),b(re,"plugins",[]);const ve=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"repository",type:"string"},{indexed:!1,internalType:"uint256",name:"prId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"stateHash",type:"bytes32"}],name:"PRStateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"repository",type:"string"},{indexed:!1,internalType:"uint256",name:"prId",type:"uint256"}],name:"PRUpdateRequested",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"authorizedUpdaters",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"}],name:"lastUpdated",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_context",type:"bytes"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"_transaction",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"enum ExecutionResult",name:"_txResult",type:"uint8"},{internalType:"uint256",name:"_maxRefundedGas",type:"uint256"}],name:"postTransaction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"prStates",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"}],name:"requestPRUpdate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"requiredGasForPRRequest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"updater",type:"address"},{internalType:"bool",name:"authorized",type:"bool"}],name:"setAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newRequiredGas",type:"uint256"}],name:"setRequiredGas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"},{internalType:"uint64",name:"updateTimestamp",type:"uint64"},{components:[{internalType:"string",name:"author",type:"string"},{internalType:"bool",name:"isMergedToMain",type:"bool"},{components:[{internalType:"string",name:"reviewer",type:"string"},{internalType:"uint64",name:"reviewerDuration",type:"uint64"},{internalType:"uint64",name:"authorDuration",type:"uint64"}],internalType:"struct ApprovedReviewer[]",name:"approvals",type:"tuple[]"}],internalType:"struct PRDetails",name:"details",type:"tuple"}],name:"updatePRState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"validateAndPayForPaymasterTransaction",outputs:[{internalType:"bytes4",name:"magic",type:"bytes4"},{internalType:"bytes",name:"context",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"},{components:[{internalType:"string",name:"author",type:"string"},{internalType:"bool",name:"isMergedToMain",type:"bool"},{components:[{internalType:"string",name:"reviewer",type:"string"},{internalType:"uint64",name:"reviewerDuration",type:"uint64"},{internalType:"uint64",name:"authorDuration",type:"uint64"}],internalType:"struct ApprovedReviewer[]",name:"approvals",type:"tuple[]"}],internalType:"struct PRDetails",name:"details",type:"tuple"}],name:"verifyPRDetails",outputs:[],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],rn=S("br",null,null,-1),an={key:0,class:"debug-info"},sn={key:1},on={key:0},un={key:1},ln={key:0},cn={key:0},pn=S("br",null,null,-1),dn={key:1},yn={key:1},Rn=V({__name:"show",props:{bounty:{},currentBlockTimestamp:{}},setup(e){const t=e;console.log("preps: ",t.currentBlockTimestamp),console.log("preps: ",t.bounty),Ve(Ze());const n=new re,r=v(!1),a=v(""),i=v(""),s=v(""),o=v(!0),c=v(!1),y=v(0),g=v(!1),u=$(()=>t.bounty.claimed==!0?"text-gray-600":j?"text-red-600":o.value?"text-green-600":"text-amber-600"),f=$(()=>t.bounty.claimed==!0?"gray":j?"red":o.value?"green":"amber"),p=X({address:q.DevNFT,abi:at}),oe=X({address:q.ReviewToken,abi:it}),F=X({address:q.Oracle,abi:ve}),W=async()=>{window.location.href="https://github.com/"+t.bounty.repositoryName+"/pull/"+t.bounty.pullRequestId},j=t.bounty.conditions.abortTimestamp<t.currentBlockTimestamp,Se=async()=>{const{request:d}=await J({abi:ce,address:q.Bounty,functionName:"abortBounty",args:[t.bounty.bountyId]});await Y(d)},Oe=async()=>{const{request:d}=await J({abi:ve,address:q.Oracle,functionName:"requestPRUpdate",args:[t.bounty.repositoryName,t.bounty.pullRequestId]});await Y(d)},je=async()=>{const{request:d}=await J({abi:ce,address:q.Bounty,functionName:"claimBounty",args:[t.bounty.bountyId,ue.value]});await Y(d)},ue=v(),le=v(""),$e=async()=>{console.log("repo name is:",t.bounty.repositoryName);const d=await bt(n,t.bounty.repositoryName,Number(t.bounty.pullRequestId));console.log("pr Status: ",d);function m(C,D){return typeof D=="bigint"?D.toString():D}ue.value=d;const A=JSON.stringify(d,m);return le.value=A,d},De=d=>{const m=d.cause;if(m.name=="ContractFunctionRevertedError")return m.reason;console.log("Unexpected error from contract: ",d)},qe=async d=>{F.read.verifyPRDetails([t.bounty.repositoryName,t.bounty.pullRequestId,d]).then(m=>{c.value=!0}).catch(m=>{const A=m;c.value=!1,De(A)=="State hash differs"?F.read.lastUpdated([t.bounty.repositoryName,t.bounty.pullRequestId]).then(C=>{y.value=Number(C)}):r.value=!0})};return $e().then(d=>{o.value=d.isMergedToMain,qe(d)}),He(t.bounty,async d=>{console.log(d),await p.read.ownerOf([d.receiverNFTTokenId]).then(m=>{s.value=m}).catch(m=>{console.log("receiver doesnt have NFT yet")}),await p.read.tokenToGithub([d.receiverNFTTokenId]).then(m=>{i.value=m}),a.value=await oe.read.symbol()},{immediate:!0}),(d,m)=>{const A=Qe,C=Te,D=et,Pe=tt,Ie=pt;return h(),we(Ie,{title:"Bounty",description:"A bounty for PR",color:"primary"},{default:R(()=>[x(A,{onClick:W},{default:R(()=>[E("PR "+T(t.bounty.repositoryName)+"/"+T(t.bounty.pullRequestId),1)]),_:1}),rn,x(Pe,{text:l(s)},{default:R(()=>[x(D,{color:l(f),variant:"outline",class:"flex justify-center flex-row"},{default:R(()=>[x(C,{class:k(["w-12 h-12",l(u)]),name:"mdi:arrow-right",dynamic:""},null,8,["class"]),E(" Receiver: "+T(l(i)),1)]),_:1},8,["color"])]),_:1},8,["text"]),S("button",{onClick:m[0]||(m[0]=z=>g.value=!l(g)),class:"toggle-button"},T(l(g)?"Hide Debug Info":"Show Debug Info"),1),l(g)?(h(),w("div",an,[S("p",null," Expired: "+T(j)+" (current timestamp: "+T(t.currentBlockTimestamp)+" vs expiration "+T(t.bounty.conditions.abortTimestamp)+" ) ",1),E(" PR Status: "+T(l(le)),1)])):_("",!0),t.bounty.claimed?_("",!0):(h(),w("div",sn,[j?(h(),w("div",on,[x(A,{onClick:m[1]||(m[1]=z=>Se())},{default:R(()=>[E("Abort bounty")]),_:1})])):_("",!0),j?_("",!0):(h(),w("div",un,[l(o)?(h(),w("div",ln,[l(c)?_("",!0):(h(),w("div",cn,[E(" Oracle is behind. Last update: "+T(l(y))+" ",1),pn,x(A,{onClick:m[2]||(m[2]=z=>Oe())},{default:R(()=>[E("ASK for oracle update")]),_:1})])),l(c)?(h(),w("div",dn,[x(A,{onClick:m[3]||(m[3]=z=>je())},{default:R(()=>[E("CLAIM NOW.")]),_:1})])):_("",!0)])):_("",!0),l(o)?_("",!0):(h(),w("div",yn,[x(A,{disabled:!0,color:"white"},{default:R(()=>[E("Cannot claim: PR not merged yet ")]),_:1})]))]))])),x(D,{color:l(f),variant:"outline",class:"flex justify-center flex-col"},{default:R(()=>[x(C,{class:k(["w-12 h-12",l(u)]),name:"ph:coin-vertical-duotone",dynamic:""},null,8,["class"]),S("strong",{class:k(l(u))},T(Number(d.bounty.amount))+" "+T(l(a)),3)]),_:1},8,["color"])]),_:1})}}}),kn=V({inheritAttrs:!1,__name:"PageGrid",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t={wrapper:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8"},n=e,{ui:r,attrs:a}=ae("page.grid",U(n,"ui"),t,U(n,"class"),!0);return(i,s)=>(h(),w("div",G({class:l(r).wrapper},l(a)),[O(i.$slots,"default")],16))}});export{xn as _,kn as a,Rn as b};
