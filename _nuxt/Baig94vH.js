var xe=Object.defineProperty;var ke=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var f=(e,t,n)=>ke(e,typeof t!="symbol"?t+"":t,n);import{g as K,h as de,i as C,o as h,c as _,a as j,s as N,r as k,Y as p,q as fe,W as Pe,H as v,j as ne,K as $e,D as Ie,w as R,b as w,d as E,t as g,x as O}from"./Bv7MNHO9.js";import{m as Ue,n as M,p as G,q as L,a as Ne,_ as Ce}from"./DJ4o4lhc.js";import{_ as Be}from"./DDKP8QyW.js";import{_ as Fe}from"./DC-FCEYN.js";import{_ as Me}from"./CUxkBcNo.js";import{B as re}from"./BnUShGWR.js";import{C as D,R as Ge}from"./BnCO_dDe.js";import{D as Le}from"./CJnDfkvU.js";const en=K({inheritAttrs:!1,__name:"DashboardToolbar",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t={wrapper:"min-h-[49px] flex-shrink-0 flex items-center border-b border-gray-200 dark:border-gray-800 px-4 py-2 gap-x-4",container:"flex items-center justify-between flex-1 gap-x-1.5",left:"flex items-stretch gap-1.5",right:"flex items-stretch gap-1.5"},n=e,{ui:r,attrs:a}=de("dashboard.toolbar",C(n,"ui"),t,C(n,"class"),!0);return(i,s)=>(h(),_("div",fe({class:p(r).wrapper},p(a)),[j("div",{class:k(p(r).container)},[N(i.$slots,"default",{},()=>[j("div",{class:k(p(r).left)},[N(i.$slots,"left")],2),j("div",{class:k(p(r).right)},[N(i.$slots,"right")],2)])],2)],16))}}),Ve=e=>e.event=="reviewed"?{event:"reviewed",login:e.user.login,timestamp:new Date(e.submitted_at),state:e.state}:e.event=="commented"||e.event=="committed"||e.event=="review_dismissed"||e.event=="renamed"?null:e.event=="review_requested"?e.requested_reviewer==null?null:{event:"review_requested",login:e.requested_reviewer.login,timestamp:new Date(e.created_at),state:""}:null,He=async(e,t,n)=>{try{const r=t.split("/"),{data:a}=await e.request("GET /repos/{owner}/{repo}/issues/{pull_number}/timeline",{owner:r[0],repo:r[1],pull_number:n,mediaType:{previews:["mockingbird"]}});return We(a)}catch(r){console.error("Error fetching PR details:",r)}},We=e=>{const t=e.map(r=>Ve(r)).filter(r=>r!==null),n=new Map;return t.forEach(r=>{if(r.event=="review_requested")if(n.has(r.login)){const a=n.get(r.login);a.waitingForReviewer||n.set(r.login,{waitingForReviewer:!0,timestamp:r.timestamp,reviewerDuration:a.reviewerDuration,authorDuration:a.authorDuration+(r.timestamp.getTime()-a.timestamp.getTime()),approved:a.approved})}else n.set(r.login,{waitingForReviewer:!0,timestamp:r.timestamp,reviewerDuration:0,authorDuration:0,approved:!1});else if(r.event=="reviewed")if(n.has(r.login)){const a=n.get(r.login);a.waitingForReviewer&&n.set(r.login,{waitingForReviewer:!1,timestamp:r.timestamp,reviewerDuration:a.reviewerDuration+(r.timestamp.getTime()-a.timestamp.getTime()),authorDuration:a.authorDuration,approved:a.approved||r.state=="approved"})}else n.set(r.login,{waitingForReviewer:!1,timestamp:r.timestamp,reviewerDuration:0,authorDuration:0,approved:r.state=="approved"})}),n},ze=async(e,t,n)=>{const r=t.split("/"),{data:a}=await e.request("GET /repos/{owner}/{repo}/pulls/{pull_number}",{owner:r[0],repo:r[1],pull_number:n}),i=await He(e,t,n);return{author:a.user.login,isMergedToMain:(a.base.ref=="main"||a.base.ref=="master")&&a.merged_at!=null,reviewStatus:i}},Xe=e=>{const t=[...e.reviewStatus.entries()].sort((r,a)=>r[0].localeCompare(a[0])).filter(r=>r[1].approved).map(r=>({reviewer:r[0],reviewerDuration:BigInt(r[1].reviewerDuration),authorDuration:BigInt(r[1].authorDuration)}));return{author:e.author,isMergedToMain:e.isMergedToMain,approvals:t}},Je=async(e,t,n)=>{const r=await ze(e,t,n);return Xe(r)};function B(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function Y(e,t,n,r){if(typeof n!="function")throw new Error("method for before hook must be a function");return r||(r={}),Array.isArray(t)?t.reverse().reduce((a,i)=>Y.bind(null,e,i,a,r),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((a,i)=>i.hook.bind(null,a,r),n)():n(r))}function Ke(e,t,n,r){const a=r;e.registry[n]||(e.registry[n]=[]),t==="before"&&(r=(i,s)=>Promise.resolve().then(a.bind(null,s)).then(i.bind(null,s))),t==="after"&&(r=(i,s)=>{let o;return Promise.resolve().then(i.bind(null,s)).then(c=>(o=c,a(o,s))).then(()=>o)}),t==="error"&&(r=(i,s)=>Promise.resolve().then(i.bind(null,s)).catch(o=>a(o,s))),e.registry[n].push({hook:r,orig:a})}function Ye(e,t,n){if(!e.registry[t])return;const r=e.registry[t].map(a=>a.orig).indexOf(n);r!==-1&&e.registry[t].splice(r,1)}const ae=Function.bind,ie=ae.bind(ae);function me(e,t,n){const r=ie(Ye,null).apply(null,n?[t,n]:[t]);e.api={remove:r},e.remove=r,["before","error","after","wrap"].forEach(a=>{const i=n?[t,a,n]:[t,a];e[a]=e.api[a]=ie(Ke,null).apply(null,i)})}function Ze(){const e=Symbol("Singular"),t={registry:{}},n=Y.bind(null,t,e);return me(n,t,e),n}function Qe(){const e={registry:{}},t=Y.bind(null,e);return me(t,e),t}const et={Singular:Ze,Collection:Qe};var tt="0.0.0-development",nt=`octokit-endpoint.js/${tt} ${B()}`,rt={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":nt},mediaType:{format:""}};function at(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function it(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function ge(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{it(t[r])?r in e?n[r]=ge(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function se(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function W(e,t,n){var a;if(typeof t=="string"){let[i,s]=t.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},t);n.headers=at(n.headers),se(n),se(n.headers);const r=ge(e||{},n);return n.url==="/graphql"&&(e&&((a=e.mediaType.previews)!=null&&a.length)&&(r.mediaType.previews=e.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=(r.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),r}function st(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(a=>a==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(t[a])}`).join("&")}var ot=/\{[^}]+\}/g;function ut(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function ct(e){const t=e.match(ot);return t?t.map(ut).reduce((n,r)=>n.concat(r),[]):[]}function oe(e,t){const n={__proto__:null};for(const r of Object.keys(e))t.indexOf(r)===-1&&(n[r]=e[r]);return n}function he(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function x(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function I(e,t,n){return t=e==="+"||e==="#"?he(t):x(t),n?x(n)+"="+t:t}function q(e){return e!=null}function V(e){return e===";"||e==="&"||e==="?"}function lt(e,t,n,r){var a=e[n],i=[];if(q(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),r&&r!=="*"&&(a=a.substring(0,parseInt(r,10))),i.push(I(t,a,V(t)?n:""));else if(r==="*")Array.isArray(a)?a.filter(q).forEach(function(s){i.push(I(t,s,V(t)?n:""))}):Object.keys(a).forEach(function(s){q(a[s])&&i.push(I(t,a[s],s))});else{const s=[];Array.isArray(a)?a.filter(q).forEach(function(o){s.push(I(t,o))}):Object.keys(a).forEach(function(o){q(a[o])&&(s.push(x(o)),s.push(I(t,a[o].toString())))}),V(t)?i.push(x(n)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?q(a)&&i.push(x(n)):a===""&&(t==="&"||t==="?")?i.push(x(n)+"="):a===""&&i.push("");return i}function pt(e){return{expand:yt.bind(null,e)}}function yt(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,a,i){if(a){let o="";const c=[];if(n.indexOf(a.charAt(0))!==-1&&(o=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(b){var m=/([^:\*]*)(?::(\d+)|(\*))?/.exec(b);c.push(lt(t,o,m[1],m[2]||m[3]))}),o&&o!=="+"){var s=",";return o==="?"?s="&":o!=="#"&&(s=o),(c.length!==0?o:"")+c.join(s)}else return c.join(",")}else return he(i)}),e==="/"?e:e.replace(/\/$/,"")}function be(e){var m;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),a,i=oe(e,["method","baseUrl","url","headers","request","mediaType"]);const s=ct(n);n=pt(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const o=Object.keys(e).filter(u=>s.includes(u)).concat("baseUrl"),c=oe(i,o);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(m=e.mediaType.previews)!=null&&m.length)){const u=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=u.concat(e.mediaType.previews).map(d=>{const A=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${d}-preview${A}`}).join(",")}return["GET","HEAD"].includes(t)?n=st(n,c):"data"in c?a=c.data:Object.keys(c).length&&(a=c),!r["content-type"]&&typeof a<"u"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof a>"u"&&(a=""),Object.assign({method:t,url:n,headers:r},typeof a<"u"?{body:a}:null,e.request?{request:e.request}:null)}function dt(e,t,n){return be(W(e,t,n))}function Te(e,t){const n=W(e,t),r=dt.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:Te.bind(null,n),merge:W.bind(null,n),parse:be})}var ft=Te(null,rt);class U extends Error{constructor(n,r,a){super(n);f(this,"name");f(this,"status");f(this,"request");f(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,"response"in a&&(this.response=a.response);const i=Object.assign({},a.request);a.request.headers.authorization&&(i.headers=Object.assign({},a.request.headers,{authorization:a.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var mt="0.0.0-development";function gt(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function ht(e){return e.arrayBuffer()}function ue(e){var o,c,b,m;const t=e.request&&e.request.log?e.request.log:console,n=((o=e.request)==null?void 0:o.parseSuccessResponseBody)!==!1;(gt(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},a,i,{fetch:s}=globalThis;if((c=e.request)!=null&&c.fetch&&(s=e.request.fetch),!s)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return s(e.url,{method:e.method,body:e.body,redirect:(b=e.request)==null?void 0:b.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([u,d])=>[u,String(d)])),signal:(m=e.request)==null?void 0:m.signal,...e.body&&{duplex:"half"}}).then(async u=>{i=u.url,a=u.status;for(const d of u.headers)r[d[0]]=d[1];if("deprecation"in r){const d=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),A=d&&d.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${A?`. See ${A}`:""}`)}if(!(a===204||a===205)){if(e.method==="HEAD"){if(a<400)return;throw new U(u.statusText,a,{response:{url:i,status:a,headers:r,data:void 0},request:e})}if(a===304)throw new U("Not modified",a,{response:{url:i,status:a,headers:r,data:await H(u)},request:e});if(a>=400){const d=await H(u);throw new U(bt(d),a,{response:{url:i,status:a,headers:r,data:d},request:e})}return n?await H(u):u.body}}).then(u=>({status:a,url:i,headers:r,data:u})).catch(u=>{if(u instanceof U)throw u;if(u.name==="AbortError")throw u;let d=u.message;throw u.name==="TypeError"&&"cause"in u&&(u.cause instanceof Error?d=u.cause.message:typeof u.cause=="string"&&(d=u.cause)),new U(d,500,{request:e})})}async function H(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():ht(e)}function bt(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function z(e,t){const n=e.defaults(t);return Object.assign(function(a,i){const s=n.merge(a,i);if(!s.request||!s.request.hook)return ue(n.parse(s));const o=(c,b)=>ue(n.parse(n.merge(c,b)));return Object.assign(o,{endpoint:n,defaults:z.bind(null,n)}),s.request.hook(o,s)},{endpoint:n,defaults:z.bind(null,n)})}var X=z(ft,{headers:{"user-agent":`octokit-request.js/${mt} ${B()}`}}),Tt="0.0.0-development";function vt(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var wt=class extends Error{constructor(t,n,r){super(vt(r));f(this,"name","GraphqlResponseError");f(this,"errors");f(this,"data");this.request=t,this.headers=n,this.response=r,this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},_t=["method","baseUrl","url","headers","request","query","mediaType"],Rt=["query","method","url"],ce=/\/api\/v3\/?$/;function At(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(Rt.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,a=Object.keys(r).reduce((s,o)=>_t.includes(o)?(s[o]=r[o],s):(s.variables||(s.variables={}),s.variables[o]=r[o],s),{}),i=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return ce.test(i)&&(a.url=i.replace(ce,"/api/graphql")),e(a).then(s=>{if(s.data.errors){const o={};for(const c of Object.keys(s.headers))o[c]=s.headers[c];throw new wt(a,o,s.data)}return s.data.data})}function Z(e,t){const n=e.defaults(t);return Object.assign((a,i)=>At(n,a,i),{defaults:Z.bind(null,n),endpoint:n.endpoint})}Z(X,{headers:{"user-agent":`octokit-graphql.js/${Tt} ${B()}`},method:"POST",url:"/graphql"});function Et(e){return Z(e,{method:"POST",url:"/graphql"})}var Ot=/^v1\./,jt=/^ghs_/,St=/^ghu_/;async function Dt(e){const t=e.split(/\./).length===3,n=Ot.test(e)||jt.test(e),r=St.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}function qt(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function xt(e,t,n,r){const a=t.endpoint.merge(n,r);return a.headers.authorization=qt(e),t(a)}var kt=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Dt.bind(null,t),{hook:xt.bind(null,t)})};const ve="6.1.2",le=()=>{},Pt=console.warn.bind(console),$t=console.error.bind(console),pe=`octokit-core.js/${ve} ${B()}`;class J{constructor(t={}){f(this,"request");f(this,"graphql");f(this,"log");f(this,"hook");f(this,"auth");const n=new et.Collection,r={baseUrl:X.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=t.userAgent?`${t.userAgent} ${pe}`:pe,t.baseUrl&&(r.baseUrl=t.baseUrl),t.previews&&(r.mediaType.previews=t.previews),t.timeZone&&(r.headers["time-zone"]=t.timeZone),this.request=X.defaults(r),this.graphql=Et(this.request).defaults(r),this.log=Object.assign({debug:le,info:le,warn:Pt,error:$t},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...s}=t,o=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",o.hook),this.auth=o}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=kt(t.auth);n.wrap("request",i.hook),this.auth=i}const a=this.constructor;for(let i=0;i<a.plugins.length;++i)Object.assign(this,a.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...r){const a=r[0]||{};if(typeof t=="function"){super(t(a));return}super(Object.assign({},t,a,a.userAgent&&t.userAgent?{userAgent:`${a.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var a;const n=this.plugins;return a=class extends this{},f(a,"plugins",n.concat(t.filter(i=>!n.includes(i)))),a}}f(J,"VERSION",ve),f(J,"plugins",[]);const ye=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"repository",type:"string"},{indexed:!1,internalType:"uint256",name:"prId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"stateHash",type:"bytes32"}],name:"PRStateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"repository",type:"string"},{indexed:!1,internalType:"uint256",name:"prId",type:"uint256"}],name:"PRUpdateRequested",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"authorizedUpdaters",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"}],name:"lastUpdated",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_context",type:"bytes"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"_transaction",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"enum ExecutionResult",name:"_txResult",type:"uint8"},{internalType:"uint256",name:"_maxRefundedGas",type:"uint256"}],name:"postTransaction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"prStates",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"}],name:"requestPRUpdate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"requiredGasForPRRequest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"updater",type:"address"},{internalType:"bool",name:"authorized",type:"bool"}],name:"setAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newRequiredGas",type:"uint256"}],name:"setRequiredGas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"},{internalType:"uint64",name:"updateTimestamp",type:"uint64"},{components:[{internalType:"string",name:"author",type:"string"},{internalType:"bool",name:"isMergedToMain",type:"bool"},{components:[{internalType:"string",name:"reviewer",type:"string"},{internalType:"uint64",name:"reviewerDuration",type:"uint64"},{internalType:"uint64",name:"authorDuration",type:"uint64"}],internalType:"struct ApprovedReviewer[]",name:"approvals",type:"tuple[]"}],internalType:"struct PRDetails",name:"details",type:"tuple"}],name:"updatePRState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"validateAndPayForPaymasterTransaction",outputs:[{internalType:"bytes4",name:"magic",type:"bytes4"},{internalType:"bytes",name:"context",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"},{components:[{internalType:"string",name:"author",type:"string"},{internalType:"bool",name:"isMergedToMain",type:"bool"},{components:[{internalType:"string",name:"reviewer",type:"string"},{internalType:"uint64",name:"reviewerDuration",type:"uint64"},{internalType:"uint64",name:"authorDuration",type:"uint64"}],internalType:"struct ApprovedReviewer[]",name:"approvals",type:"tuple[]"}],internalType:"struct PRDetails",name:"details",type:"tuple"}],name:"verifyPRDetails",outputs:[],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],It=j("br",null,null,-1),Ut={key:0,class:"debug-info"},Nt={key:1},Ct={key:0},Bt={key:1},Ft={key:0},Mt={key:0},Gt=j("br",null,null,-1),Lt={key:1},Vt={key:1},tn=K({__name:"show",props:{bounty:{},currentBlockTimestamp:{}},setup(e){const t=e;console.log("preps: ",t.currentBlockTimestamp),console.log("preps: ",t.bounty),Pe(Ue());const n=new J,r=v(!1),a=v(""),i=v(""),s=v(""),o=v(!0),c=v(!1),b=v(0),m=v(!1),u=ne(()=>t.bounty.claimed==!0?"text-gray-600":P?"text-red-600":o.value?"text-green-600":"text-amber-600"),d=ne(()=>t.bounty.claimed==!0?"gray":P?"red":o.value?"green":"amber"),A=M({address:D.DevNFT,abi:Le}),we=M({address:D.ReviewToken,abi:Ge}),Q=M({address:D.Oracle,abi:ye}),_e=async()=>{window.location.href="https://github.com/"+t.bounty.repositoryName+"/pull/"+t.bounty.pullRequestId},P=t.bounty.conditions.abortTimestamp<t.currentBlockTimestamp,Re=async()=>{const{request:l}=await G({abi:re,address:D.Bounty,functionName:"abortBounty",args:[t.bounty.bountyId]});await L(l)},Ae=async()=>{const{request:l}=await G({abi:ye,address:D.Oracle,functionName:"requestPRUpdate",args:[t.bounty.repositoryName,t.bounty.pullRequestId]});await L(l)},Ee=async()=>{const{request:l}=await G({abi:re,address:D.Bounty,functionName:"claimBounty",args:[t.bounty.bountyId,ee.value]});await L(l)},ee=v(),te=v(""),Oe=async()=>{console.log("repo name is:",t.bounty.repositoryName);const l=await Je(n,t.bounty.repositoryName,Number(t.bounty.pullRequestId));console.log("pr Status: ",l);function y($,S){return typeof S=="bigint"?S.toString():S}ee.value=l;const T=JSON.stringify(l,y);return te.value=T,l},je=l=>{const y=l.cause;if(y.name=="ContractFunctionRevertedError")return y.reason;console.log("Unexpected error from contract: ",l)},Se=async l=>{Q.read.verifyPRDetails([t.bounty.repositoryName,t.bounty.pullRequestId,l]).then(y=>{c.value=!0}).catch(y=>{const T=y;c.value=!1,je(T)=="State hash differs"?Q.read.lastUpdated([t.bounty.repositoryName,t.bounty.pullRequestId]).then($=>{b.value=Number($)}):r.value=!0})};return Oe().then(l=>{o.value=l.isMergedToMain,Se(l)}),$e(t.bounty,async l=>{console.log(l),await A.read.ownerOf([l.receiverNFTTokenId]).then(y=>{s.value=y}).catch(y=>{console.log("receiver doesnt have NFT yet")}),await A.read.tokenToGithub([l.receiverNFTTokenId]).then(y=>{i.value=y}),a.value=await we.read.symbol()},{immediate:!0}),(l,y)=>{const T=Ne,$=Ce,S=Be,De=Fe,qe=Me;return h(),Ie(qe,{title:"Bounty",description:"A bounty for PR",color:"primary"},{default:R(()=>[w(T,{onClick:_e},{default:R(()=>[E("PR "+g(t.bounty.repositoryName)+"/"+g(t.bounty.pullRequestId),1)]),_:1}),It,w(De,{text:p(s)},{default:R(()=>[w(S,{color:p(d),variant:"outline",class:"flex justify-center flex-row"},{default:R(()=>[w($,{class:k(["w-12 h-12",p(u)]),name:"mdi:arrow-right",dynamic:""},null,8,["class"]),E(" Receiver: "+g(p(i)),1)]),_:1},8,["color"])]),_:1},8,["text"]),j("button",{onClick:y[0]||(y[0]=F=>m.value=!p(m)),class:"toggle-button"},g(p(m)?"Hide Debug Info":"Show Debug Info"),1),p(m)?(h(),_("div",Ut,[j("p",null," Expired: "+g(P)+" (current timestamp: "+g(t.currentBlockTimestamp)+" vs expiration "+g(t.bounty.conditions.abortTimestamp)+" ) ",1),E(" PR Status: "+g(p(te)),1)])):O("",!0),t.bounty.claimed?O("",!0):(h(),_("div",Nt,[P?(h(),_("div",Ct,[w(T,{onClick:y[1]||(y[1]=F=>Re())},{default:R(()=>[E("Abort bounty")]),_:1})])):O("",!0),P?O("",!0):(h(),_("div",Bt,[p(o)?(h(),_("div",Ft,[p(c)?O("",!0):(h(),_("div",Mt,[E(" Oracle is behind. Last update: "+g(p(b))+" ",1),Gt,w(T,{onClick:y[2]||(y[2]=F=>Ae())},{default:R(()=>[E("ASK for oracle update")]),_:1})])),p(c)?(h(),_("div",Lt,[w(T,{onClick:y[3]||(y[3]=F=>Ee())},{default:R(()=>[E("CLAIM NOW.")]),_:1})])):O("",!0)])):O("",!0),p(o)?O("",!0):(h(),_("div",Vt,[w(T,{disabled:!0,color:"white"},{default:R(()=>[E("Cannot claim: PR not merged yet ")]),_:1})]))]))])),w(S,{color:p(d),variant:"outline",class:"flex justify-center flex-col"},{default:R(()=>[w($,{class:k(["w-12 h-12",p(u)]),name:"ph:coin-vertical-duotone",dynamic:""},null,8,["class"]),j("strong",{class:k(p(u))},g(Number(l.bounty.amount))+" "+g(p(a)),3)]),_:1},8,["color"])]),_:1})}}}),nn=K({inheritAttrs:!1,__name:"PageGrid",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t={wrapper:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8"},n=e,{ui:r,attrs:a}=de("page.grid",C(n,"ui"),t,C(n,"class"),!0);return(i,s)=>(h(),_("div",fe({class:p(r).wrapper},p(a)),[N(i.$slots,"default")],16))}});export{en as _,nn as a,tn as b};
