import{_ as z}from"./DGol0EF4.js";import{_ as $}from"./u8JZqeIL.js";import{g as j,a4 as q,a1 as J,M as e,Y as _,D as x,w as a,o,b as r,d as n,t as i,H as t,c as s,a as u,x as c,A as K,F as Q,a5 as X}from"./VC-URk-h.js";import{c as Z,g as B,d as tt}from"./bQKMbp-P.js";import{B as et}from"./QDAFuwUM.js";import{C as T,R as ot}from"./J8_t1kCK.js";import{D as nt}from"./DKxOMpfT.js";import"./CN-VLdn-.js";import"./DooEQgv3.js";import"./CMqFbNwL.js";import"./CAZilBRX.js";import"./B6mKDPlD.js";const st={key:0},at={key:1},rt=u("br",null,null,-1),it=u("br",null,null,-1),ct={key:0},ut={key:0},lt={key:1},dt={key:1},_t=u("br",null,null,-1),mt=u("br",null,null,-1),Ut=j({__name:"[githublogin]",setup(pt){const A=q(),{account:p}=J(Z()),k="https://github.com/mm-zk/github-exp/issues/1",l=A.params.githublogin,b=B({address:T.DevNFT,abi:nt}),C=e(0),N=e(""),g=e(!1),R=e(BigInt(0)),h=e(""),F=tt(),v=e(!1),P=B({address:T.ReviewToken,abi:ot}),D=B({address:T.Bounty,abi:et}),E=async()=>{window.location.href=k},f=e(0),w=e([]),U=e(0);F.getBlock().then(m=>{console.log("setting bt: ",m.timestamp),U.value=Number(m.timestamp)});const I=async()=>{f.value=Number(await D.read.getUserBountiesCount([l])),w.value=await D.read.getUserBounties([l,BigInt(f.value)]),console.log(w.value)};return(async()=>{if(await b.read.exists([l])){N.value="exists";const y=await b.read.githubToToken([l]);R.value=y;const d=await b.read.ownerOf([y]);h.value=d,v.value=d==p.value.address,C.value=Number(await P.read.balanceOf([d]))}else N.value="not set",g.value=!0;I()})(),(m,y)=>{const d=_("UDashboardNavbar"),O=_("UDashboardToolbar"),M=z,V=$,S=_("UPageGrid"),Y=X,W=_("UDashboardPanel"),G=_("UDashboardPage");return o(),x(G,null,{default:a(()=>[r(W,{grow:""},{default:a(()=>[r(d,{title:"PR Bounty List"}),r(O,{class:"py-0 px-4 overflow-x-auto"},{default:a(()=>[n(" Browsing #"+i(t(l))+" github ",1)]),_:1}),t(g)?(o(),s("div",st,[n(" ADDRESS NOT Mapped - please visit "),u("button",{onClick:E},"github issue page"),n(" ("+i(t(k))+") ",1)])):c("",!0),t(g)?c("",!0):(o(),s("div",at,[n(" Account is mapped to an NFT."),rt,n(" Current owner of this github is: "+i(t(h))+" ",1),it,t(p).isConnected?(o(),s("div",ct,[t(v)?(o(),s("div",ut,"YOU ARE THE OWNER.")):c("",!0),t(v)?c("",!0):(o(),s("div",lt," You are NOT the owner - maybe you connected a wrong wallet? "))])):c("",!0),t(p).isConnected?c("",!0):(o(),s("div",dt," You didn't connect the wallet, but you can still browse. ")),r(M,null,{default:a(()=>[n(i(t(h))+" ",1),_t,n(" RVW: "+i(t(C)),1)]),_:1})])),u("div",null,[n(" Bounties for this user "+i(t(f))+" ",1),mt,r(Y,{class:"mt-4"},{default:a(()=>[r(S,null,{default:a(()=>[(o(!0),s(Q,null,K(t(w),(H,L)=>(o(),x(V,{key:L,bounty:H,currentBlockTimestamp:t(U)},null,8,["bounty","currentBlockTimestamp"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1})}}});export{Ut as default};
