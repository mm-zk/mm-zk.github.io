import{_ as A}from"./Cckn0zr9.js";import{g as f,o as r,c as a,a as e,t as l,F as y,M as T,H as m,A as B,d as S,n as V,aa as F,a3 as P,x as C,p as $,e as N,_ as D,b as h,a1 as E,s as H,w as G}from"./VC-URk-h.js";import{u as x,a as U}from"./CP7r-z6T.js";import{e as q,s as L,h as M,c as R}from"./bQKMbp-P.js";import{p as O}from"./B8fA3GXb.js";import"./B6mKDPlD.js";import"./BrcTUzdS.js";import"./CN-VLdn-.js";import"./DwazWmrT.js";import"./DooEQgv3.js";import"./CMqFbNwL.js";import"./CAZilBRX.js";function W(t,n="wei"){return O(t,q[n])}const z=f({__name:"ShowBounty",props:["repo","prNumber"],setup(t){const n=t;return(u,s)=>(r(),a(y,null,[e("div",null,"Hello Bounty and number "+l(n.prNumber),1),e("div",null," We are "+l(n.repo),1)],64))}}),K=t=>($("data-v-d4dcf46a"),t=t(),N(),t),Z={key:0,class:"overlay"},j={class:"dialog"},J=K(()=>e("h2",null,"Hello",-1)),Q=["value"],X=f({__name:"AddBounty",props:{repo:{},prNumber:{},reviewers:{}},setup(t){var k;const u=(k=t.reviewers)==null?void 0:k.map((c,_)=>({id:_,name:c.login})),s=T(!1);let i="";const v=()=>{console.log("Confirmed!"),w()},d=()=>{console.log("Before Button pressed",s),s.value=!0,console.log("Button pressed",s)},b=()=>{s.value=!1},{result:g,execute:w,inProgress:o,error:le}=x(async()=>{console.log("Sending transaction...");const c=await L({to:"0xc981b213603171963F81C687B9fC880d33CaeD16",value:W("1")});return console.log(c.hash),I(c.hash),c}),{result:ce,execute:I,inProgress:ue,error:ie}=x(async c=>await M({hash:c}));return(c,_)=>(r(),a("div",null,[e("button",{onClick:_[0]||(_[0]=p=>d())},"Show Dialog"),m(s)?(r(),a("div",Z,[e("div",j,[J,e("div",null,[(r(!0),a(y,null,B(m(u),p=>(r(),a("label",{key:p.id},[e("input",{type:"checkbox",value:p.id},null,8,Q),S(" "+l(p.name),1)]))),128))]),V(e("input",{type:"text","onUpdate:modelValue":_[1]||(_[1]=p=>P(i)?i.value=p:i=p),placeholder:"Enter some text"},null,512),[[F,m(i)]]),e("button",{onClick:v},"Confirm"),e("button",{onClick:b},"Close")])])):C("",!0)]))}}),Y=D(X,[["__scopeId","data-v-d4dcf46a"]]),ee=t=>($("data-v-f5df00dd"),t=t(),N(),t),te=ee(()=>e("thead",null,[e("tr",null,[e("th",null,"PR"),e("th",null,"Author"),e("th",null,"Status"),e("th",null,"Bounties"),e("th",null,"Actions")])],-1)),oe={key:0},ne=f({__name:"Github",props:["repo"],setup(t){const n=t,{result:u,execute:s,inProgress:i,error:v}=x(async()=>{const d=`https://api.github.com/repos/${n.repo}/pulls?state=all`;return await U.get(d).then(b=>b.data.filter(o=>o.state==="open"||o.state==="closed"&&new Date(o.closed_at)>=new Date(Date.now()-14*24*60*60*1e3)))});return s(),(d,b)=>{const g=z,w=Y;return r(),a("div",null,[e("table",null,[te,e("tbody",null,[S(" Repository: "+l(n.repo)+" ",1),(r(!0),a(y,null,B(m(u),o=>(r(),a("tr",{key:o.id},[e("td",null,"#"+l(o.number)+" - "+l(o.title),1),e("td",null,l(o.user.login),1),e("td",null,l(o.state)+", "+l(new Date(o.created_at).toLocaleDateString()),1),e("td",null,[h(g,{repo:n.repo,prNumber:o.number},null,8,["repo","prNumber"])]),e("td",null,[o.state=="open"?(r(),a("div",oe,[h(w,{repo:n.repo,prNumber:o.number,reviewers:o.requested_reviewers},null,8,["repo","prNumber","reviewers"])])):C("",!0)])]))),128))])])])}}}),se=D(ne,[["__scopeId","data-v-f5df00dd"]]),re=f({__name:"Connected",setup(t){const{account:n}=E(R());return(u,s)=>m(n).isConnected?H(u.$slots,"default",{key:0}):C("",!0)}}),ae=e("h1",null,"GitHub ZKSync",-1),Ce=f({__name:"index",setup(t){R();const n="mm-zk/github-ci-exp";return(u,s)=>{const i=A,v=se,d=re;return r(),a("div",null,[ae,h(i),h(d,null,{default:G(()=>[h(v,{repo:m(n)},null,8,["repo"])]),_:1})])}}});export{Ce as default};
