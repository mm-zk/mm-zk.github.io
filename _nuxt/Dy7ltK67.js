import{c as re,g as A,p as E,w as Y,_ as Q,a as j}from"./bQKMbp-P.js";import{_ as F}from"./DGol0EF4.js";import{g as P,a1 as oe,M as y,J as X,H as f,o as r,c as m,b as s,w as d,d as C,t as v,x as k,a as g,D as H,m as le,f as G,_ as ie,h as ue,i as W,T as de,j as S,P as me,r as _,s as $,z as D,q as z,F as B,a6 as ce,a0 as K,a2 as L,Y as T,a3 as J,a7 as pe}from"./VC-URk-h.js";import{C as V,R}from"./J8_t1kCK.js";import{D as O}from"./DKxOMpfT.js";import{_ as Z}from"./DxldR_3H.js";import{_ as fe,u as he}from"./BrcTUzdS.js";import{p as ge}from"./B8fA3GXb.js";import"./CMqFbNwL.js";import"./CAZilBRX.js";import"./B6mKDPlD.js";const ye={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},be={key:0},ve=g("br",null,null,-1),ke=P({__name:"Profile",setup(e){const{account:l}=oe(re()),o=y(!1),n=y(0),i=A({address:V.DevNFT,abi:O}),c=A({address:V.ReviewToken,abi:R});return X(()=>l,async u=>{if(u.value&&u.value.isConnected){const p=await i.read.balanceOf([u.value.address]);Number(p)>0&&(o.value=!0),n.value=Number(await c.read.balanceOf([u.value.address]))}},{immediate:!0}),(u,p)=>{const t=F;return f(l).isConnected?(r(),m("div",be,[s(t,null,{default:d(()=>[C(v(f(l).address)+" ",1),ve,C(" RVW: "+v(f(n)),1)]),_:1})])):k("",!0)}}}),we={class:"flex items-center justify-between gap-3 py-3 px-4 sm:px-6"},Ue={class:"flex items-center gap-3 min-w-0"},_e={class:"text-sm min-w-0"},Ce={class:"text-gray-900 dark:text-white font-medium truncate"},$e={class:"text-gray-500 dark:text-gray-400 truncate"},De={key:0},ze={class:"flex items-center gap-3"},Te=P({__name:"Show",props:{ghUser:{}},emits:["createHunter"],setup(e){const l=e,o=y(!1),n=y(null),i=y(null),c=A({address:V.DevNFT,abi:O}),u=A({address:V.ReviewToken,abi:R}),p=async a=>{const h=await c.read.exists([a.login.toLowerCase()]);if(h){const w=await c.read.githubToToken([a.login.toLowerCase()]);n.value=await c.read.ownerOf([w]),i.value=await u.read.balanceOf([n.value])}o.value=h};X(()=>l.ghUser,async a=>{a&&await p(a)},{immediate:!0});const t=async()=>{const{request:a}=await E({abi:R,address:V.ReviewToken,functionName:"transfer",args:[n.value,ge("42",0)]});await Y(a)};return(a,h)=>{const w=fe,U=Q,b=j,M=F;return a.ghUser?(r(),H(M,{key:0},{default:d(()=>[g("div",we,[g("div",Ue,[s(w,{src:a.ghUser.avatar_url,alt:"Avatar"},null,8,["src"]),g("div",_e,[g("p",Ce,v(a.ghUser.login),1),g("p",$e,v(a.ghUser.name),1)]),f(o)?(r(),m("div",De,v(f(i))+" RVW",1)):k("",!0)]),g("div",ze,[f(o)&&f(n)?(r(),H(b,{key:0,color:"primary"},{default:d(()=>[s(U,{class:"w-6 h-6",name:"ph:coin-vertical",dynamic:"",onClick:t})]),_:1})):k("",!0),f(o)?(r(),H(U,{key:1,class:"w-12 h-12 text-primary-800",name:"game-icons:samus-helmet",dynamic:""})):(r(),H(b,{key:2,label:"Add",color:"primary",onClick:h[0]||(h[0]=q=>a.$emit("createHunter",a.ghUser.login))}))])])]),_:1})):k("",!0)}}}),I=le(G.ui.strategy,G.ui.formGroup,ye),Ve=P({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(I.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:l,attrs:o}=ue("formGroup",W(e,"ui"),I,W(e,"class")),n=de("form-errors",null),i=S(()=>{var p,t;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(t=(p=n==null?void 0:n.value)==null?void 0:p.find(a=>a.path===e.name))==null?void 0:t.message}),c=S(()=>l.value.size[e.size??I.default.size]),u=y(he("$K7dDJpdOWE"));return me("form-group",{error:i,inputId:u,name:S(()=>e.name),size:S(()=>e.size),eagerValidation:S(()=>e.eagerValidation)}),{ui:l,attrs:o,inputId:u,size:c,error:i}}}),Ne=["for"];function Se(e,l,o,n,i,c){return r(),m("div",z({class:e.ui.wrapper},e.attrs),[g("div",{class:_(e.ui.inner)},[e.label||e.$slots.label?(r(),m("div",{key:0,class:_([e.ui.label.wrapper,e.size])},[g("label",{for:e.inputId,class:_([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?$(e.$slots,"label",D(z({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(r(),m(B,{key:1},[C(v(e.label),1)],64))],10,Ne),e.hint||e.$slots.hint?(r(),m("span",{key:0,class:_([e.ui.hint])},[e.$slots.hint?$(e.$slots,"hint",D(z({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(r(),m(B,{key:1},[C(v(e.hint),1)],64))],2)):k("",!0)],2)):k("",!0),e.description||e.$slots.description?(r(),m("p",{key:1,class:_([e.ui.description,e.size])},[e.$slots.description?$(e.$slots,"description",D(z({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(r(),m(B,{key:1},[C(v(e.description),1)],64))],2)):k("",!0)],2),g("div",{class:_([e.label?e.ui.container:""])},[$(e.$slots,"default",D(ce({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(r(),m("p",{key:0,class:_([e.ui.error,e.size])},[e.$slots.error?$(e.$slots,"error",D(z({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(r(),m(B,{key:1},[C(v(e.error),1)],64))],2)):e.help||e.$slots.help?(r(),m("p",{key:1,class:_([e.ui.help,e.size])},[e.$slots.help?$(e.$slots,"help",D(z({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(r(),m(B,{key:1},[C(v(e.help),1)],64))],2)):k("",!0)],2)],16)}const Be=ie(Ve,[["render",Se]]),He={class:"flex justify-end gap-3 mt-4"},Pe=P({__name:"Create",props:K({preselectedUser:{}},{username:{},usernameModifiers:{},address:{},addressModifiers:{}}),emits:K(["close"],["update:username","update:address"]),setup(e,{emit:l}){const o=l,n=L(e,"username"),i=L(e,"address"),c=e,u=y(!1);n.value=c.preselectedUser;const p=async function(){try{u.value=!0;const{request:t,result:a}=await E({abi:O,address:V.DevNFT,functionName:"mint",args:[i.value,n.value.toLowerCase()]}),{hash:h}=await Y(t);o("close"),n.value=""}catch(t){console.log(t)}finally{u.value=!1}};return(t,a)=>{const h=Z,w=Be,U=j;return r(),m("div",null,[s(w,{label:"GitHub Username",name:"username"},{default:d(()=>[s(h,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=b=>n.value=b),type:"text",placeholder:"itsacoyote",autofocus:""},null,8,["modelValue"])]),_:1}),s(w,{label:"Address",name:"address",class:"mt-2"},{default:d(()=>[s(h,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=b=>i.value=b),type:"text",placeholder:"0x123..."},null,8,["modelValue"])]),_:1}),g("div",He,[s(U,{label:"Cancel",color:"gray",variant:"ghost",onClick:a[2]||(a[2]=b=>o("close"))}),s(U,{label:"Add",color:"black",onClick:p,loading:f(u)},null,8,["loading"])])])}}}),Ae={class:"flex"},Me={key:0,class:"m-4"},Ee=P({__name:"hunters",setup(e){const l=y(""),o=y(!1),n=y(null),i=y(""),c=async()=>{const p=`https://api.github.com/users/${l.value}`;n.value=await fetch(p).then(t=>t.json()).then(t=>t.message?null:t)},u=async p=>{o.value=!0,i.value=p};return(p,t)=>{const a=T("UDashboardNavbar"),h=Q,w=ke,U=T("UDashboardSection"),b=j,M=Z,q=Te,x=F,ee=Pe,ae=T("UDashboardModal"),te=T("UDashboardPanelContent"),se=T("UDashboardPanel"),ne=T("UDashboardPage");return r(),H(ne,null,{default:d(()=>[s(se,{grow:""},{default:d(()=>[s(a,{title:"Bounty Hunters"}),s(te,null,{default:d(()=>[s(U,{title:"My Profile",description:"Manage your profile for the bounty hunter program.",orientation:"horizontal",class:"px-4 mt-6"},{icon:d(()=>[s(h,{class:"w-12 h-12",name:"game-icons:samus-helmet",dynamic:""})]),default:d(()=>[s(w)]),_:1}),s(U,{title:"Manage Members",description:"Manage the users that are part of the bounty hunting program.",orientation:"horizontal",class:"px-4 mt-6"},{icon:d(()=>[s(h,{class:"w-12 h-12",name:"heroicons:user-group-20-solid",dynamic:""})]),links:d(()=>[s(b,{label:"Add a user",color:"primary",onClick:t[0]||(t[0]=N=>o.value=!0)})]),default:d(()=>[s(x,{ui:{header:{padding:"p-4 sm:px-6"},body:{padding:""}},class:"min-w-0"},{header:d(()=>[g("div",Ae,[s(M,{class:"m-auto w-full pr-2",modelValue:f(l),"onUpdate:modelValue":t[1]||(t[1]=N=>J(l)?l.value=N:null),icon:"i-heroicons-magnifying-glass",placeholder:"Search members",onKeyup:pe(c,["enter"]),autofocus:""},null,8,["modelValue"]),s(b,{label:"Search",onClick:c})])]),default:d(()=>[f(n)?(r(),m("div",Me,[s(q,{ghUser:f(n),onCreateHunter:u},null,8,["ghUser"])])):k("",!0)]),_:1})]),_:1}),s(ae,{modelValue:f(o),"onUpdate:modelValue":t[3]||(t[3]=N=>J(o)?o.value=N:null),title:"Add member",description:"Add new member by github username",ui:{width:"sm:max-w-md"}},{default:d(()=>[s(ee,{onClose:t[2]||(t[2]=N=>{o.value=!1,i.value="",c()}),preselectedUser:f(i)},null,8,["preselectedUser"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});export{Ee as default};
