var Ce=Object.defineProperty;var Ie=(e,t,n)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>Ie(e,typeof t!="symbol"?t+"":t,n);import{c as Ue,g as B,p as F,w as M,a as Ne,_ as xe}from"./bQKMbp-P.js";import{B as te,_ as Be}from"./QDAFuwUM.js";import{_ as me}from"./CN-VLdn-.js";import{ab as Fe,m as Me,f as ne,_ as Le,g as ge,h as Ge,i as re,j as H,B as Ve,M as T,o as g,c as h,s as ae,d as _,r as j,b as w,w as R,a as k,x as A,t as b,F as He,A as ze,D as be,q as ie,$ as We,a1 as Je,J as Ke,Y as Xe,H as d}from"./VC-URk-h.js";import{a as Ye}from"./DooEQgv3.js";import{C as S,R as Ze}from"./J8_t1kCK.js";import{D as Qe}from"./DKxOMpfT.js";const et={wrapper:"relative inline-flex",container:"z-20 group",width:"max-w-xs",background:"bg-white dark:bg-gray-900",color:"text-gray-900 dark:text-white",shadow:"shadow",rounded:"rounded",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"[@media(pointer:coarse)]:hidden h-6 px-2 py-1 text-xs font-normal truncate relative",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5",middot:"mx-1 text-gray-700 dark:text-gray-200",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:{...Fe,base:"[@media(pointer:coarse)]:hidden invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2"}},L=Me(ne.ui.strategy,ne.ui.tooltip,et),tt=ge({components:{UKbd:me},inheritAttrs:!1,props:{text:{type:String,default:null},prevent:{type:Boolean,default:!1},shortcuts:{type:Array,default:()=>[]},openDelay:{type:Number,default:()=>L.default.openDelay},closeDelay:{type:Number,default:()=>L.default.closeDelay},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=Ge("tooltip",re(e,"ui"),L,re(e,"class")),r=H(()=>Ve({},e.popper,t.value.popper)),[a,i]=Ye(r.value),s=T(!1);let o=null,u=null;function v(){u&&(clearTimeout(u),u=null),!s.value&&(o=o||setTimeout(()=>{s.value=!0,o=null},e.openDelay))}function f(){o&&(clearTimeout(o),o=null),s.value&&(u=u||setTimeout(()=>{s.value=!1,u=null},e.closeDelay))}return{ui:t,attrs:n,popper:r,trigger:a,container:i,open:s,onMouseEnter:v,onMouseLeave:f}}});function nt(e,t,n,r,a,i){const s=me;return g(),h("div",ie({ref:"trigger",class:e.ui.wrapper},e.attrs,{onMouseenter:t[0]||(t[0]=(...o)=>e.onMouseEnter&&e.onMouseEnter(...o)),onMouseleave:t[1]||(t[1]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))}),[ae(e.$slots,"default",{open:e.open},()=>[_(" Hover ")]),e.open&&!e.prevent?(g(),h("div",{key:0,ref:"container",class:j([e.ui.container,e.ui.width])},[w(We,ie({appear:""},e.ui.transition),{default:R(()=>{var o;return[k("div",null,[e.popper.arrow?(g(),h("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):A("",!0),k("div",{class:j([e.ui.base,e.ui.background,e.ui.color,e.ui.rounded,e.ui.shadow,e.ui.ring])},[ae(e.$slots,"text",{},()=>[_(b(e.text),1)]),(o=e.shortcuts)!=null&&o.length?(g(),h("span",{key:0,class:j(e.ui.shortcuts)},[k("span",{class:j(e.ui.middot)},"Â·",2),(g(!0),h(He,null,ze(e.shortcuts,u=>(g(),be(s,{key:u,size:"xs"},{default:R(()=>[_(b(u),1)]),_:2},1024))),128))],2)):A("",!0)],2)])]}),_:3},16)],2)):A("",!0)],16)}const rt=Le(tt,[["render",nt]]),at=e=>e.event=="reviewed"?{event:"reviewed",login:e.user.login,timestamp:new Date(e.submitted_at),state:e.state}:e.event=="commented"||e.event=="committed"||e.event=="review_dismissed"||e.event=="renamed"?null:e.event=="review_requested"?e.requested_reviewer==null?null:{event:"review_requested",login:e.requested_reviewer.login,timestamp:new Date(e.created_at),state:""}:null,it=async(e,t,n)=>{try{const r=t.split("/"),{data:a}=await e.request("GET /repos/{owner}/{repo}/issues/{pull_number}/timeline",{owner:r[0],repo:r[1],pull_number:n,mediaType:{previews:["mockingbird"]}});return st(a)}catch(r){console.error("Error fetching PR details:",r)}},st=e=>{const t=e.map(r=>at(r)).filter(r=>r!==null),n=new Map;return t.forEach(r=>{if(r.event=="review_requested")if(n.has(r.login)){const a=n.get(r.login);a.waitingForReviewer||n.set(r.login,{waitingForReviewer:!0,timestamp:r.timestamp,reviewerDuration:a.reviewerDuration,authorDuration:a.authorDuration+(r.timestamp.getTime()-a.timestamp.getTime()),approved:a.approved})}else n.set(r.login,{waitingForReviewer:!0,timestamp:r.timestamp,reviewerDuration:0,authorDuration:0,approved:!1});else if(r.event=="reviewed")if(n.has(r.login)){const a=n.get(r.login);a.waitingForReviewer&&n.set(r.login,{waitingForReviewer:!1,timestamp:r.timestamp,reviewerDuration:a.reviewerDuration+(r.timestamp.getTime()-a.timestamp.getTime()),authorDuration:a.authorDuration,approved:a.approved||r.state=="approved"})}else n.set(r.login,{waitingForReviewer:!1,timestamp:r.timestamp,reviewerDuration:0,authorDuration:0,approved:r.state=="approved"})}),n},ot=async(e,t,n)=>{const r=t.split("/"),{data:a}=await e.request("GET /repos/{owner}/{repo}/pulls/{pull_number}",{owner:r[0],repo:r[1],pull_number:n}),i=await it(e,t,n);return{author:a.user.login,isMergedToMain:(a.base.ref=="main"||a.base.ref=="master")&&a.merged_at!=null,reviewStatus:i}},ut=e=>{const t=[...e.reviewStatus.entries()].sort((r,a)=>r[0].localeCompare(a[0])).filter(r=>r[1].approved).map(r=>({reviewer:r[0],reviewerDuration:BigInt(r[1].reviewerDuration),authorDuration:BigInt(r[1].authorDuration)}));return{author:e.author,isMergedToMain:e.isMergedToMain,approvals:t}},lt=async(e,t,n)=>{const r=await ot(e,t,n);return ut(r)};function N(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function X(e,t,n,r){if(typeof n!="function")throw new Error("method for before hook must be a function");return r||(r={}),Array.isArray(t)?t.reverse().reduce((a,i)=>X.bind(null,e,i,a,r),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((a,i)=>i.hook.bind(null,a,r),n)():n(r))}function ct(e,t,n,r){const a=r;e.registry[n]||(e.registry[n]=[]),t==="before"&&(r=(i,s)=>Promise.resolve().then(a.bind(null,s)).then(i.bind(null,s))),t==="after"&&(r=(i,s)=>{let o;return Promise.resolve().then(i.bind(null,s)).then(u=>(o=u,a(o,s))).then(()=>o)}),t==="error"&&(r=(i,s)=>Promise.resolve().then(i.bind(null,s)).catch(o=>a(o,s))),e.registry[n].push({hook:r,orig:a})}function pt(e,t,n){if(!e.registry[t])return;const r=e.registry[t].map(a=>a.orig).indexOf(n);r!==-1&&e.registry[t].splice(r,1)}const se=Function.bind,oe=se.bind(se);function he(e,t,n){const r=oe(pt,null).apply(null,n?[t,n]:[t]);e.api={remove:r},e.remove=r,["before","error","after","wrap"].forEach(a=>{const i=n?[t,a,n]:[t,a];e[a]=e.api[a]=oe(ct,null).apply(null,i)})}function yt(){const e=Symbol("Singular"),t={registry:{}},n=X.bind(null,t,e);return he(n,t,e),n}function dt(){const e={registry:{}},t=X.bind(null,e);return he(t,e),t}const ft={Singular:yt,Collection:dt};var mt="0.0.0-development",gt=`octokit-endpoint.js/${mt} ${N()}`,bt={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":gt},mediaType:{format:""}};function ht(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function vt(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function ve(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{vt(t[r])?r in e?n[r]=ve(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function ue(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function z(e,t,n){var a;if(typeof t=="string"){let[i,s]=t.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},t);n.headers=ht(n.headers),ue(n),ue(n.headers);const r=ve(e||{},n);return n.url==="/graphql"&&(e&&((a=e.mediaType.previews)!=null&&a.length)&&(r.mediaType.previews=e.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=(r.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),r}function Tt(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(a=>a==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(t[a])}`).join("&")}var wt=/\{[^}]+\}/g;function Rt(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function _t(e){const t=e.match(wt);return t?t.map(Rt).reduce((n,r)=>n.concat(r),[]):[]}function le(e,t){const n={__proto__:null};for(const r of Object.keys(e))t.indexOf(r)===-1&&(n[r]=e[r]);return n}function Te(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function $(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function I(e,t,n){return t=e==="+"||e==="#"?Te(t):$(t),n?$(n)+"="+t:t}function q(e){return e!=null}function G(e){return e===";"||e==="&"||e==="?"}function At(e,t,n,r){var a=e[n],i=[];if(q(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),r&&r!=="*"&&(a=a.substring(0,parseInt(r,10))),i.push(I(t,a,G(t)?n:""));else if(r==="*")Array.isArray(a)?a.filter(q).forEach(function(s){i.push(I(t,s,G(t)?n:""))}):Object.keys(a).forEach(function(s){q(a[s])&&i.push(I(t,a[s],s))});else{const s=[];Array.isArray(a)?a.filter(q).forEach(function(o){s.push(I(t,o))}):Object.keys(a).forEach(function(o){q(a[o])&&(s.push($(o)),s.push(I(t,a[o].toString())))}),G(t)?i.push($(n)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?q(a)&&i.push($(n)):a===""&&(t==="&"||t==="?")?i.push($(n)+"="):a===""&&i.push("");return i}function Et(e){return{expand:Dt.bind(null,e)}}function Dt(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,a,i){if(a){let o="";const u=[];if(n.indexOf(a.charAt(0))!==-1&&(o=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(v){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(v);u.push(At(t,o,f[1],f[2]||f[3]))}),o&&o!=="+"){var s=",";return o==="?"?s="&":o!=="#"&&(s=o),(u.length!==0?o:"")+u.join(s)}else return u.join(",")}else return Te(i)}),e==="/"?e:e.replace(/\/$/,"")}function we(e){var f;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),a,i=le(e,["method","baseUrl","url","headers","request","mediaType"]);const s=_t(n);n=Et(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const o=Object.keys(e).filter(l=>s.includes(l)).concat("baseUrl"),u=le(i,o);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(l=>l.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(f=e.mediaType.previews)!=null&&f.length)){const l=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=l.concat(e.mediaType.previews).map(y=>{const D=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${y}-preview${D}`}).join(",")}return["GET","HEAD"].includes(t)?n=Tt(n,u):"data"in u?a=u.data:Object.keys(u).length&&(a=u),!r["content-type"]&&typeof a<"u"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof a>"u"&&(a=""),Object.assign({method:t,url:n,headers:r},typeof a<"u"?{body:a}:null,e.request?{request:e.request}:null)}function jt(e,t,n){return we(z(e,t,n))}function Re(e,t){const n=z(e,t),r=jt.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:Re.bind(null,n),merge:z.bind(null,n),parse:we})}var kt=Re(null,bt);class U extends Error{constructor(n,r,a){super(n);m(this,"name");m(this,"status");m(this,"request");m(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,"response"in a&&(this.response=a.response);const i=Object.assign({},a.request);a.request.headers.authorization&&(i.headers=Object.assign({},a.request.headers,{authorization:a.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var Ot="0.0.0-development";function St(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function qt(e){return e.arrayBuffer()}function ce(e){var o,u,v,f;const t=e.request&&e.request.log?e.request.log:console,n=((o=e.request)==null?void 0:o.parseSuccessResponseBody)!==!1;(St(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},a,i,{fetch:s}=globalThis;if((u=e.request)!=null&&u.fetch&&(s=e.request.fetch),!s)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return s(e.url,{method:e.method,body:e.body,redirect:(v=e.request)==null?void 0:v.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([l,y])=>[l,String(y)])),signal:(f=e.request)==null?void 0:f.signal,...e.body&&{duplex:"half"}}).then(async l=>{i=l.url,a=l.status;for(const y of l.headers)r[y[0]]=y[1];if("deprecation"in r){const y=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),D=y&&y.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${D?`. See ${D}`:""}`)}if(!(a===204||a===205)){if(e.method==="HEAD"){if(a<400)return;throw new U(l.statusText,a,{response:{url:i,status:a,headers:r,data:void 0},request:e})}if(a===304)throw new U("Not modified",a,{response:{url:i,status:a,headers:r,data:await V(l)},request:e});if(a>=400){const y=await V(l);throw new U($t(y),a,{response:{url:i,status:a,headers:r,data:y},request:e})}return n?await V(l):l.body}}).then(l=>({status:a,url:i,headers:r,data:l})).catch(l=>{if(l instanceof U)throw l;if(l.name==="AbortError")throw l;let y=l.message;throw l.name==="TypeError"&&"cause"in l&&(l.cause instanceof Error?y=l.cause.message:typeof l.cause=="string"&&(y=l.cause)),new U(y,500,{request:e})})}async function V(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():qt(e)}function $t(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function W(e,t){const n=e.defaults(t);return Object.assign(function(a,i){const s=n.merge(a,i);if(!s.request||!s.request.hook)return ce(n.parse(s));const o=(u,v)=>ce(n.parse(n.merge(u,v)));return Object.assign(o,{endpoint:n,defaults:W.bind(null,n)}),s.request.hook(o,s)},{endpoint:n,defaults:W.bind(null,n)})}var J=W(kt,{headers:{"user-agent":`octokit-request.js/${Ot} ${N()}`}}),Pt="0.0.0-development";function Ct(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var It=class extends Error{constructor(t,n,r){super(Ct(r));m(this,"name","GraphqlResponseError");m(this,"errors");m(this,"data");this.request=t,this.headers=n,this.response=r,this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ut=["method","baseUrl","url","headers","request","query","mediaType"],Nt=["query","method","url"],pe=/\/api\/v3\/?$/;function xt(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(Nt.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,a=Object.keys(r).reduce((s,o)=>Ut.includes(o)?(s[o]=r[o],s):(s.variables||(s.variables={}),s.variables[o]=r[o],s),{}),i=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return pe.test(i)&&(a.url=i.replace(pe,"/api/graphql")),e(a).then(s=>{if(s.data.errors){const o={};for(const u of Object.keys(s.headers))o[u]=s.headers[u];throw new It(a,o,s.data)}return s.data.data})}function Y(e,t){const n=e.defaults(t);return Object.assign((a,i)=>xt(n,a,i),{defaults:Y.bind(null,n),endpoint:n.endpoint})}Y(J,{headers:{"user-agent":`octokit-graphql.js/${Pt} ${N()}`},method:"POST",url:"/graphql"});function Bt(e){return Y(e,{method:"POST",url:"/graphql"})}var Ft=/^v1\./,Mt=/^ghs_/,Lt=/^ghu_/;async function Gt(e){const t=e.split(/\./).length===3,n=Ft.test(e)||Mt.test(e),r=Lt.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}function Vt(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Ht(e,t,n,r){const a=t.endpoint.merge(n,r);return a.headers.authorization=Vt(e),t(a)}var zt=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Gt.bind(null,t),{hook:Ht.bind(null,t)})};const _e="6.1.2",ye=()=>{},Wt=console.warn.bind(console),Jt=console.error.bind(console),de=`octokit-core.js/${_e} ${N()}`;class K{constructor(t={}){m(this,"request");m(this,"graphql");m(this,"log");m(this,"hook");m(this,"auth");const n=new ft.Collection,r={baseUrl:J.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=t.userAgent?`${t.userAgent} ${de}`:de,t.baseUrl&&(r.baseUrl=t.baseUrl),t.previews&&(r.mediaType.previews=t.previews),t.timeZone&&(r.headers["time-zone"]=t.timeZone),this.request=J.defaults(r),this.graphql=Bt(this.request).defaults(r),this.log=Object.assign({debug:ye,info:ye,warn:Wt,error:Jt},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...s}=t,o=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",o.hook),this.auth=o}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=zt(t.auth);n.wrap("request",i.hook),this.auth=i}const a=this.constructor;for(let i=0;i<a.plugins.length;++i)Object.assign(this,a.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...r){const a=r[0]||{};if(typeof t=="function"){super(t(a));return}super(Object.assign({},t,a,a.userAgent&&t.userAgent?{userAgent:`${a.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var a;const n=this.plugins;return a=class extends this{},m(a,"plugins",n.concat(t.filter(i=>!n.includes(i)))),a}}m(K,"VERSION",_e),m(K,"plugins",[]);const fe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"repository",type:"string"},{indexed:!1,internalType:"uint256",name:"prId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"stateHash",type:"bytes32"}],name:"PRStateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"repository",type:"string"},{indexed:!1,internalType:"uint256",name:"prId",type:"uint256"}],name:"PRUpdateRequested",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"authorizedUpdaters",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"}],name:"lastUpdated",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_context",type:"bytes"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"_transaction",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"enum ExecutionResult",name:"_txResult",type:"uint8"},{internalType:"uint256",name:"_maxRefundedGas",type:"uint256"}],name:"postTransaction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"prStates",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"}],name:"requestPRUpdate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"requiredGasForPRRequest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"updater",type:"address"},{internalType:"bool",name:"authorized",type:"bool"}],name:"setAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newRequiredGas",type:"uint256"}],name:"setRequiredGas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"},{internalType:"uint64",name:"updateTimestamp",type:"uint64"},{components:[{internalType:"string",name:"author",type:"string"},{internalType:"bool",name:"isMergedToMain",type:"bool"},{components:[{internalType:"string",name:"reviewer",type:"string"},{internalType:"uint64",name:"reviewerDuration",type:"uint64"},{internalType:"uint64",name:"authorDuration",type:"uint64"}],internalType:"struct ApprovedReviewer[]",name:"approvals",type:"tuple[]"}],internalType:"struct PRDetails",name:"details",type:"tuple"}],name:"updatePRState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"validateAndPayForPaymasterTransaction",outputs:[{internalType:"bytes4",name:"magic",type:"bytes4"},{internalType:"bytes",name:"context",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"repository",type:"string"},{internalType:"uint256",name:"prId",type:"uint256"},{components:[{internalType:"string",name:"author",type:"string"},{internalType:"bool",name:"isMergedToMain",type:"bool"},{components:[{internalType:"string",name:"reviewer",type:"string"},{internalType:"uint64",name:"reviewerDuration",type:"uint64"},{internalType:"uint64",name:"authorDuration",type:"uint64"}],internalType:"struct ApprovedReviewer[]",name:"approvals",type:"tuple[]"}],internalType:"struct PRDetails",name:"details",type:"tuple"}],name:"verifyPRDetails",outputs:[],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Kt=k("br",null,null,-1),Xt={key:0,class:"debug-info"},Yt={key:1},Zt={key:0},Qt={key:1},en={key:0},tn={key:0},nn=k("br",null,null,-1),rn={key:1},an={key:1},fn=ge({__name:"show",props:{bounty:{},currentBlockTimestamp:{}},setup(e){const t=e;console.log("preps: ",t.currentBlockTimestamp),console.log("preps: ",t.bounty),Je(Ue());const n=new K,r=T(!1),a=T(""),i=T(""),s=T(""),o=T(!0),u=T(!1),v=T(0),f=T(!1),l=H(()=>t.bounty.claimed==!0?"text-gray-600":P?"text-red-600":o.value?"text-green-600":"text-amber-600"),y=H(()=>t.bounty.claimed==!0?"gray":P?"red":o.value?"green":"amber"),D=B({address:S.DevNFT,abi:Qe}),Ae=B({address:S.ReviewToken,abi:Ze}),Z=B({address:S.Oracle,abi:fe}),Ee=async()=>{window.location.href="https://github.com/"+t.bounty.repositoryName+"/pull/"+t.bounty.pullRequestId},P=t.bounty.conditions.abortTimestamp<t.currentBlockTimestamp,De=async()=>{const{request:c}=await F({abi:te,address:S.Bounty,functionName:"abortBounty",args:[t.bounty.bountyId]});await M(c)},je=async()=>{const{request:c}=await F({abi:fe,address:S.Oracle,functionName:"requestPRUpdate",args:[t.bounty.repositoryName,t.bounty.pullRequestId]});await M(c)},ke=async()=>{const{request:c}=await F({abi:te,address:S.Bounty,functionName:"claimBounty",args:[t.bounty.bountyId,Q.value]});await M(c)},Q=T(),ee=T(""),Oe=async()=>{console.log("repo name is:",t.bounty.repositoryName);const c=await lt(n,t.bounty.repositoryName,Number(t.bounty.pullRequestId));console.log("pr Status: ",c);function p(C,O){return typeof O=="bigint"?O.toString():O}Q.value=c;const E=JSON.stringify(c,p);return ee.value=E,c},Se=c=>{const p=c.cause;if(p.name=="ContractFunctionRevertedError")return p.reason;console.log("Unexpected error from contract: ",c)},qe=async c=>{Z.read.verifyPRDetails([t.bounty.repositoryName,t.bounty.pullRequestId,c]).then(p=>{u.value=!0}).catch(p=>{const E=p;u.value=!1,Se(E)=="State hash differs"?Z.read.lastUpdated([t.bounty.repositoryName,t.bounty.pullRequestId]).then(C=>{v.value=Number(C)}):r.value=!0})};return Oe().then(c=>{o.value=c.isMergedToMain,qe(c)}),Ke(t.bounty,async c=>{console.log(c),await D.read.ownerOf([c.receiverNFTTokenId]).then(p=>{s.value=p}).catch(p=>{console.log("receiver doesnt have NFT yet")}),await D.read.tokenToGithub([c.receiverNFTTokenId]).then(p=>{i.value=p}),a.value=await Ae.read.symbol()},{immediate:!0}),(c,p)=>{const E=Ne,C=xe,O=Be,$e=rt,Pe=Xe("ULandingCard");return g(),be(Pe,{title:"Bounty",description:"A bounty for PR",color:"primary"},{default:R(()=>[w(E,{onClick:Ee},{default:R(()=>[_("PR "+b(t.bounty.repositoryName)+"/"+b(t.bounty.pullRequestId),1)]),_:1}),Kt,w($e,{text:d(s)},{default:R(()=>[w(O,{color:d(y),variant:"outline",class:"flex justify-center flex-row"},{default:R(()=>[w(C,{class:j(["w-12 h-12",d(l)]),name:"mdi:arrow-right",dynamic:""},null,8,["class"]),_(" Receiver: "+b(d(i)),1)]),_:1},8,["color"])]),_:1},8,["text"]),k("button",{onClick:p[0]||(p[0]=x=>f.value=!d(f)),class:"toggle-button"},b(d(f)?"Hide Debug Info":"Show Debug Info"),1),d(f)?(g(),h("div",Xt,[k("p",null," Expired: "+b(P)+" (current timestamp: "+b(t.currentBlockTimestamp)+" vs expiration "+b(t.bounty.conditions.abortTimestamp)+" ) ",1),_(" PR Status: "+b(d(ee)),1)])):A("",!0),t.bounty.claimed?A("",!0):(g(),h("div",Yt,[P?(g(),h("div",Zt,[w(E,{onClick:p[1]||(p[1]=x=>De())},{default:R(()=>[_("Abort bounty")]),_:1})])):A("",!0),P?A("",!0):(g(),h("div",Qt,[d(o)?(g(),h("div",en,[d(u)?A("",!0):(g(),h("div",tn,[_(" Oracle is behind. Last update: "+b(d(v))+" ",1),nn,w(E,{onClick:p[2]||(p[2]=x=>je())},{default:R(()=>[_("ASK for oracle update")]),_:1})])),d(u)?(g(),h("div",rn,[w(E,{onClick:p[3]||(p[3]=x=>ke())},{default:R(()=>[_("CLAIM NOW.")]),_:1})])):A("",!0)])):A("",!0),d(o)?A("",!0):(g(),h("div",an,[w(E,{disabled:!0,color:"white"},{default:R(()=>[_("Cannot claim: PR not merged yet ")]),_:1})]))]))])),w(O,{color:d(y),variant:"outline",class:"flex justify-center flex-col"},{default:R(()=>[w(C,{class:j(["w-12 h-12",d(l)]),name:"ph:coin-vertical-duotone",dynamic:""},null,8,["class"]),k("strong",{class:j(d(l))},b(Number(c.bounty.amount))+" "+b(d(a)),3)]),_:1},8,["color"])]),_:1})}}});export{fn as _};
